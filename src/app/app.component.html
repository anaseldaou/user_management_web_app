<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #drawer class="sidenav" mode="side" opened>
    <mat-nav-list>
      <button mat-mini-fab routerLink="/users" routerLinkActive="active">
        <mat-icon>people</mat-icon>
      </button>

    </mat-nav-list>
  </mat-sidenav>
  
  <mat-sidenav-content>
    <mat-toolbar class="app-toolbar">
  <span class="spacer"></span>
  
  <!-- Language Switcher -->
  <div class="language-switcher">
    <button mat-raised-button extended
            [matMenuTriggerFor]="languageMenu">
      {{ languageService.currentLanguage }}
      <mat-icon>language</mat-icon>
    </button>
    
    <mat-menu #languageMenu="matMenu" class="language-menu" xPosition="before">
      @for (language of languageService.availableLanguages; track language.code) {
        <button mat-menu-item 
                (click)="changeLanguage(language.code)" 
                class="language-menu-item"
                [ngClass]="{'active': currentLang === language.code}">
          <span class="menu-item-text">{{ language.name }}</span>
          @if (currentLang === language.code) {
            <mat-icon class="check-icon">check</mat-icon>
          }
        </button>
      }
    </mat-menu>
  </div>
  </mat-toolbar>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>